[![Docker image, latest](https://img.shields.io/docker/image-size/invoiceninja/invoiceninja-debian/latest?label=latest)](https://hub.docker.com/r/invoiceninja/invoiceninja-debian)
[![Docker image, debian](https://img.shields.io/docker/image-size/invoiceninja/invoiceninja-debian/debian?label=debian)](https://hub.docker.com/r/invoiceninja/invoiceninja-debian)
[![Artifact HUB](https://img.shields.io/endpoint?url=https://artifacthub.io/badge/repository/invoiceninja)](https://artifacthub.io/packages/search?repo=invoiceninja)
[![Publish Image](https://github.com/invoiceninja/dockerfiles/actions/workflows/publish-image.yaml/badge.svg)](https://github.com/invoiceninja/dockerfiles/actions/workflows/publish-image.yaml)
[![Build Debian Image](https://github.com/invoiceninja/dockerfiles/actions/workflows/build-image-debian.yaml/badge.svg)](https://github.com/invoiceninja/dockerfiles/actions/workflows/build-image-debian.yaml)

# Debian Docker for [Invoice Ninja](https://www.invoiceninja.com/)

:crown: **Features**

:fire: NGINX webserver support [NGINX](https://nginx.org/)  
:chrome: Built-in Chrome for PDF generation and other features

## Get started with Docker Compose

This Debian-based image includes Chrome for enhanced PDF generation and other features. To get started:

```bash
git clone https://github.com/invoiceninja/dockerfiles.git -b debian
cd dockerfiles
```

Instead of defining our environment variables inside our docker-compose.yml file we now define this in the `.env` file, open this file up and insert your `APP_URL`, `APP_KEY` and update the rest of the variables as required.

```
APP_URL=http://in.localhost:8003/
APP_KEY=<insert your generated key in here>
APP_DEBUG=true
REQUIRE_HTTPS=false
IN_USER_EMAIL=
IN_PASSWORD=
```

If `IN_USER_EMAIL` and `IN_PASSWORD` is not set the default user email and password is "admin@example.com" and "changeme!" respectively. You will use this for the initial login, thereafter, you can delete these two environment variables.

The `APP_KEY` can be generated by running

```bash
# If you haven't started the containers yet:
docker run --rm -it invoiceninja/invoiceninja-debian php artisan key:generate --show

# Or if your containers are already running:
docker-compose exec app php artisan key:generate --show
```

Copy the entire string and insert in the env file at `APP_KEY=base64....`

**Note: For PDF generation using localhost, your domain name MUST end in .test for PDFs to generate correctly due to Chrome's DNS resolver.

Start the container with:

```bash
docker-compose up -d
```

**Note: When performing the setup, the Database host is ```mysql```

### Updating the Image

To upgrade to a newer release image, update your docker-compose.yml first by running:

```bash
docker-compose down
docker-compose pull
docker-compose up
```

It is recommended to perform a backup before updating.

### Support

If you discover a bug, please create an issue. For general queries, visit our [Forum](https://forum.invoiceninja.com/)